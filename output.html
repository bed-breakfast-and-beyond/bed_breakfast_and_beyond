<!DOCTYPE html>
<html>
<head>
<script type="text/javascript" src="http://code.jquery.com/jquery-1.8.2.min.js"></script>
<style type="text/css">
#div-my-tabl {
	font-family: Arial, Helvetica, sans-serif;
	background:#FFFFFF;
	
}

#title{
	text-align:center;
	font-family:Tahoma, Geneva, sans-serif;
	font-size:36px;
	
	outline-color:#090;
	color:#60C;
	}
	
#comparator{
	display:none;
	position:absolute;
	width:50%;
	
	top:0px;
	background:yellow;
	
}
#result-container{
	width:85%;
	margin:0px auto;
}

td[id *="1"]{color:#F30;font-size:24px;font-stretch:semi-expanded;font-style:oblique;}
</style>

<script type="text/javascript">
//Handles scrolling event for comparator
$(window).on('scroll', function () {
	var scrollTop = $(window).scrollTop(),
		elementOffset = $('#div-my-tabl').offset().top,
		distance = (elementOffset - scrollTop);
		
	var comp = document.getElementById('comparator');
	if(distance < 0 ){
		comp.style.position = 'fixed';
		comp.style.width = '40%';
	}
	else{
		comp.style.position = 'absolute';
		comp.style.width = '50%';
	}
	});
	
	function showComparator(){
		var comp = document.getElementById('comparator');
		comp.style.display = 'block';
		document.getElementById('div-my-tabl').style.marginLeft = '50%';
	}
	
	function hideComparator(){
		var comp = document.getElementById('comparator');
		comp.style.display = 'none';
		document.getElementById('div-my-tabl').style.marginLeft = '0px';
	}
	
	
	function addToCompare(currentElement){
		var comp = document.getElementById('comparator');
		//Removes previous compared listing
		if(comp.length >= 1){
			comp.innerHTML = '';
		}
		
	}

</script>
</head>
<body>
<h2 id="title">Bed Breakfast & Beyond</h2>
<button onclick="showComparator()">Show</button>
<button onclick="hideComparator()">Hide</button>


<div id="result-container" style="position:relative">
	<div id="comparator">Comparator</div>
	<div id="div-my-tabl"></div>
</div>


<script>
$("document").ready(function() {
	
    $.getJSON("results.json", function(data) {
		$listings = data['searchresult'];
		var results = document.getElementById('div-my-tabl');
		var resultTable = document.createElement('table');
		results.appendChild(resultTable);
		$.each($listings, function(i, item) {
			var cell = document.createElement('td');
			var newDiv = document.createElement('div');
			newDiv.setAttribute('index', i);
			var innerHTML = '<div style=\"float:left\"><img src=\"' + item.image + '\"/></div>'; 
			innerHTML += 	'<h2 style=\"margin:0\">' + item.name + '</h2>';
			innerHTML += 	'<p style=\"margin:0\">     ' + item.room + '</p>';
			innerHTML += 	'<div class=\"checkitem\" style=\"float:right\">' +
								'<input type=\"checkbox\">Compare</input>' +
							'</div>';
			newDiv.innerHTML = innerHTML;
			cell.appendChild(newDiv);
			var tableRow = document.createElement('tr');
			tableRow.appendChild(cell);
			resultTable.appendChild(tableRow);
		});
    });
});
</script>
<a href="./index.html"> Try other inputs </a>
</body>
</html>